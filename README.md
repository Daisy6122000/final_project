# Project Description

This report contains study background, objectives, descriptive analysis (Table 1, bar chart, violin plot, histogram), regression analysis (model summary & odds ratio) and related results interpretations.

## Initial code description

`code/00_clean_data.R`

  - creates categorical variables
  - adds labels
  - saves cleaned data as a `.rds` object in `output/` folder (`data_clean.rds`)

`code/01_make_table1.R`
  - creates table1
  - saves table1 as a `.rds` object in `output/` folder (`table_one.rds`)
  
`code/02_models.R`

  - fit logistic regression model
  - output OR and model summary
  - saves output tables as a `.rds` object in `output/` folder (`logistic_regression_table.rds` & `odds_ratio_table.rds`)

`code/03_bar_chart.R`

  - makes bar chart
  - saves bar chart as a `.png` object in `output/` folder (`bar_chart.png`)
  
  `code/04_violin_plot.R`

  - makes violin plot
  - saves violin plot as a `.png` object in `output/` folder (`violin_plot.png`)
  
  `code/05_histogram.R`

  - makes histogram
  - saves histogram as a `.png` object in `output/` folder (`histogram.png`)

`code/06_render_report.R`

  - renders `report.Rmd`
  - read data, tables, and figures from respective locations
  - display results for production report

`report.Rmd`

  - reads table1 generated by `code/01_make_table1.R`
  - output tables from logistic regression model generated by `code/02_models.R`
  - makes bar chart generated by `code/03_bar_chart.R`
  - makes violin plot generated by `code/04_violin_plot.R`
  - makes histogram generated by `code/05_histogram.R`
  
  
## Synchronize your package repository

`renv.lock`

  - is the project specific library
  - after cloning my repository, in the Console, use `setwd()` to set your working directory in R to your project directory.
Run `renv::init()` to initialize a project library.
  - enter "renv::activate()" in R console to activate the project library
  - renv::restore()" to synchronize a project library with renv.lock
  - " renv::status()" to check the status of the project library


## Link to the image on DockerHub
https://hub.docker.com/repository/docker/daisy612/final_project/general


## Building the image

1. run `docker pull daisy612/final_project` to pull the docker image in your computer
2. when you check your images (run `docker image ls`), you will see my image "daisy612/final_project", which means you successfully build the image


## Running the automated version of the image

I did my development at the command line `r-ubuntu`,

  - run `docker run -v "$(pwd)"/final_report:/project/final_report daisy612/final_project` to build the report automatically by running the container with the default configuration.

  - run `docker run -e WHICH_CONFIG=test -v "$(pwd)"/final_report:/project/final_report daisy612/final_project` to build the report automatically with the test configuration


If you are using git bash on Windows, you will need an extra `/`

  - run `docker run -v "/$(pwd)"/final_report:/project/final_report daisy612/final_project` to build the report automatically by running the container with the default configuration.

  - run `docker run -e WHICH_CONFIG=test -v "/$(pwd)"/final_report:/project/final_report daisy612/final_project` to build the report automatically with the test configuration













